@import "tailwindcss";

/* ---- Design tokens ---- */
:root {
  --background: #ffffff;
  --foreground: #0b0b0b;

  /* Warm panel tone (replaces harsh #FFF6D6 blocks) */
  --panel-warm: rgba(255, 246, 214, 0.72);
  --panel-warm-strong: rgba(255, 246, 214, 0.82);

  --card: rgba(255, 255, 255, 0.82);
  --card-strong: rgba(255, 255, 255, 0.9);

  --border: rgba(10, 15, 22, 0.14);
  --border-strong: rgba(10, 15, 22, 0.2);

  --shadow: 0 1px 0 rgba(255, 255, 255, 0.65), 0 10px 30px rgba(0, 0, 0, 0.09);
  --shadow-soft: 0 10px 30px rgba(0, 0, 0, 0.06);
}

html,
body {
  height: 100%;
}

body {
  margin: 0;
  color: var(--foreground);
  overflow-x: hidden;
  position: relative;

  /* Force Geist everywhere (including non-tailwind elements) */
  font-family: var(--font-geist-sans), ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto,
    Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";

  /* Hills background */
  background-image: url("/faffless-bg.png");
  background-size: cover;
  background-position: center 72%;
  background-repeat: no-repeat;
  background-attachment: fixed;
}

/* Ensure form controls never fall back to default Arial look */
input,
select,
textarea,
button {
  font: inherit;
  letter-spacing: inherit;
}

/* Readability veil */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;

  /* Slightly calmer veil; keeps background visible but reduces glare */
  background:
    radial-gradient(
      1200px 700px at 50% 6%,
      rgba(255, 255, 255, 0.62),
      rgba(255, 255, 255, 0.22) 55%,
      rgba(255, 255, 255, 0.12) 100%
    ),
    linear-gradient(
      180deg,
      rgba(255, 255, 255, 0.20) 0%,
      rgba(255, 255, 255, 0.10) 35%,
      rgba(255, 255, 255, 0.16) 100%
    );
}

/* Cloud wisps overlay */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;

  background:
    radial-gradient(ellipse 220px 90px at 12% 12%, rgba(255, 255, 255, 0.52), rgba(255, 255, 255, 0) 70%),
    radial-gradient(ellipse 260px 110px at 28% 10%, rgba(255, 255, 255, 0.44), rgba(255, 255, 255, 0) 72%),
    radial-gradient(ellipse 240px 100px at 46% 13%, rgba(255, 255, 255, 0.38), rgba(255, 255, 255, 0) 72%),
    radial-gradient(ellipse 240px 95px at 66% 11%, rgba(255, 255, 255, 0.46), rgba(255, 255, 255, 0) 72%),
    radial-gradient(ellipse 280px 120px at 82% 13%, rgba(255, 255, 255, 0.40), rgba(255, 255, 255, 0) 74%),
    radial-gradient(ellipse 220px 90px at 92% 18%, rgba(255, 255, 255, 0.30), rgba(255, 255, 255, 0) 74%),
    radial-gradient(circle 60px at 18% 20%, rgba(255, 255, 255, 0.18), rgba(255, 255, 255, 0) 70%),
    radial-gradient(circle 70px at 76% 22%, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0) 72%);
  filter: blur(0.2px);
  opacity: 0.85;
}

/* Keep app above overlays */
main {
  position: relative;
  z-index: 1;
}

/* ---- Tailwind base polish helpers ---- */
@layer base {
  :focus-visible {
    outline: none;
  }
}

/* ---- “Component” utility classes you can reuse in TSX ---- */
@layer components {
  .ff-shell {
    @apply min-h-screen px-5 sm:px-6 py-8 sm:py-10 flex items-start justify-center;
  }

  .ff-container {
    @apply w-full max-w-6xl;
  }

  .ff-card {
    background: var(--card);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-soft);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    @apply rounded-3xl;
  }

  .ff-panel-warm {
    background: var(--panel-warm);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-soft);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    @apply rounded-3xl;
  }

  .ff-input {
    @apply w-full rounded-2xl px-4 py-3 bg-white/90;
    border: 1px solid var(--border);
    box-shadow: 0 1px 0 rgba(255, 255, 255, 0.75);
  }

  .ff-input:focus {
    border-color: rgba(24, 182, 178, 0.55);
    box-shadow: 0 0 0 4px rgba(24, 182, 178, 0.12);
  }

  .ff-label {
    @apply text-xs font-semibold text-black/70;
  }

  .ff-title {
    @apply text-sm font-extrabold tracking-wide text-black/85;
  }

  .ff-btn-primary {
    @apply w-full rounded-2xl bg-black text-white py-4 font-extrabold tracking-wide transition;
  }
  .ff-btn-primary:hover {
    opacity: 0.95;
  }
  .ff-btn-primary:active {
    opacity: 0.9;
  }

  .ff-btn-secondary {
    @apply w-full rounded-2xl bg-white/80 py-3 font-extrabold transition;
    border: 1px solid var(--border-strong);
  }
  .ff-btn-secondary:hover {
    background: rgba(255, 255, 255, 0.92);
  }
  .ff-btn-secondary:active {
    background: rgba(255, 255, 255, 0.75);
  }

  .ff-muted {
    @apply text-xs text-black/60;
  }

  .ff-details {
    @apply rounded-2xl bg-white/55;
    border: 1px solid var(--border);
  }

  .ff-summary {
    @apply cursor-pointer select-none px-4 py-3 font-extrabold text-black/80 flex items-center justify-between gap-3;
  }

  .ff-summary::-webkit-details-marker {
    display: none;
  }
}